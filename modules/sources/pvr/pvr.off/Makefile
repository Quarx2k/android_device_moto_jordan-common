ccflags-y = -DLINUX -D__linux__ -Idrivers/gpu/pvr/omap3 \
	-DANDROID \
	-DPVR_BUILD_DIR="\"omap3430_android\"" \
	-DSGX_DYNAMIC_TIMING_INFO \
	-DSYS_CUSTOM_POWERLOCK_WRAP \
	-DSERVICES4 \
	-DPVR2D_VALIDATE_INPUT_PARAMS \
	-DPVR_PROC_USE_SEQ_FILE \
	-DSUPPORT_SRVINIT \
	-DSUPPORT_PERCONTEXT_PB \
	-DTRANSFER_QUEUE \
	-DSYS_USING_INTERRUPTS \
	-DSUPPORT_HW_RECOVERY \
	-DPVR_SECURE_HANDLES \
	-DPVR_SECURE_FD_EXPORT \
	-DSUPPORT_SGX_EVENT_OBJECT \
	-DLDM_PLATFORM \
	-DPVR2D_ALT_2DHW \
	-DSUPPORT_SGX_HWPERF \
	-DSUPPORT_SGX_LOW_LATENCY_SCHEDULING \
	-DPVR_LINUX_MISR_USING_WORKQUEUE \
	-DSUPPORT_CPU_CACHED_BUFFERS \
	-DSUPPORT_CACHEFLUSH_ON_ALLOC \
	-DSUPPORT_MEMINFO_IDS \
	-DDISPLAY_CONTROLLER=omaplfb \
	-DSYS_SGX_ACTIVE_POWER_LATENCY_MS=100 \
	-DPVR_BUILD_DATE=""

ccflags-y += -DSUPPORT_ACTIVE_POWER_MANAGEMENT

ccflags-$(CONFIG_SGX_EDM_TRACING) += -DPVRSRV_USSE_EDM_STATUS_DEBUG

ccflags-$(CONFIG_SGX_MK_TRACE) += -DPVRSRV_DUMP_MK_TRACE

ccflags-y += \
	-DPVR_BUILD_TYPE="\"release\""  -DRELEASE

ccflags-$(CONFIG_SGX_BUILD_DEBUG) += \
	-DPVR_BUILD_TYPE="\"debug\""  -DDEBUG \
	-DDEBUG_LINUX_MEMORY_ALLOCATIONS \
	-DDEBUG_LINUX_MEM_AREAS \
	-DDEBUG_LINUX_MMAP_AREAS \
	-DDEBUG_BRIDGE_KM \
	-DDLL_METRIC=1

ccflags-y += -Isgx -Iomap3 \
	-DSGX_CORE_REV=125 \
	-DSGX_BASE_ADDR=0xD0000000 \
	-DSUPPORT_SGX \
	-DSGX530 -DSUPPORT_SGX530

pvroff-objs := pvr-off.o hook.o

obj-m += pvroff.o

